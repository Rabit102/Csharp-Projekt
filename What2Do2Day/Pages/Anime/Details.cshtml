@page "{id:int}"
@model What2Do2Day.Pages.Anime.DetailsModel
@{
    ViewData["Title"] = $"{Model.Anime.Title} - What2Do2Day";
}

<div class="container mx-auto p-6">
    <div class="bg-gray-800 bg-opacity-70 rounded-lg shadow-xl p-6">
        <h1 class="text-4xl font-bold mb-6 text-gray-100">@Model.Anime.Title</h1>
        
        <div class="flex flex-col md:flex-row gap-8">
            <!-- Cover Image -->
            <div class="md:w-1/3">
                <img src="@Model.Anime.CoverImage" alt="@Model.Anime.Title" class="w-full rounded-lg shadow-lg">
            </div>
            
            <!-- Details -->
            <div class="md:w-2/3 text-gray-200">
                <div class="mb-6">
                    <h2 class="text-2xl font-semibold mb-2">Description</h2>
                    <p class="text-gray-300">@Model.Anime.Description</p>
                </div>

                <!-- Genres Dropdown -->
                <div class="mb-6">
                    <h2 class="text-2xl font-semibold mb-2">Genres</h2>
                    <div class="relative inline-block w-full max-w-xs">
                        <select class="w-full p-3 bg-gray-700 bg-opacity-80 text-white rounded-lg border border-gray-600 hover:bg-opacity-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-300">
                            @foreach (var genre in Model.Anime.Genres)
                            {
                                <option>@genre</option>
                            }
                        </select>
                    </div>
                </div>

                <!-- Crunchyroll Video Player -->
                <div>
                    <h2 class="text-2xl font-semibold mb-3">Watch Episode 1</h2>
                    <iframe class="w-full h-96 rounded-lg shadow-md" 
                            src="@Model.EpisodeUrl" 
                            frameborder="0" 
                            allowfullscreen>
                    </iframe>
                    <p class="text-sm text-gray-400 mt-2">Watch the first episode on Crunchyroll.</p>
                </div>
            </div>
        </div>
    </div>
</div>